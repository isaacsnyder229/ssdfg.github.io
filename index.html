<html>

<head>
    <!-- Google Analytics (original snippet kept) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-BTL6D79ZZ4"></script>
    <script>
        window.dataLayer = window.dataLayer || [];

        function gtag() {
            dataLayer.push(arguments);
        }
        gtag('js', new Date());
        gtag('config', 'G-BTL6D79ZZ4');
    </script>

    <meta charset="utf-8">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">

    <!-- Basic page meta -->
    <title>Poppy Playtime Unblocked - StaticQuasar931</title>
    <meta name="description" content="Play Poppy Playtime Unblocked, a chilling horror puzzle game where you explore an abandoned toy factory, solve puzzles, and uncover dark secrets. Enjoy a smooth fullscreen experience on StaticQuasar931 Unblocked Games, perfect for school, work, or home.">
    <meta name="viewport" content="initial-scale=1, width=device-width">
    <meta name="robots" content="index, follow, max-image-preview:large">
    <meta name="theme-color" content="#000000">

    <!-- Social preview image (no GNHUST branding) -->
    <meta property="og:title" content="Poppy Playtime Unblocked - StaticQuasar931">
    <meta property="og:description" content="Explore the abandoned toy factory in Poppy Playtime Unblocked. Solve creepy puzzles, outsmart living toys, and survive the night on StaticQuasar931.">
    <meta property="og:type" content="website">
    <meta property="og:image" content="https://cdn.jsdelivr.net/gh/StaticQuasar931/Images@main/icon.png">

    <!-- Favicon -->
    <link rel="icon" type="image/png" href="https://cdn.jsdelivr.net/gh/StaticQuasar931/Images@main/icon.png">

    <!-- Game styles (keep original game layout, removed GNHUST logo css) -->
    <link rel="stylesheet" href="./style.css">

    <!-- Visual SEO styles: Static Menu (top-left) and rotating widget (bottom-right) -->
    <style>
        :root {
            --brand: #5ee1ff;
            --glow: 0 0 12px rgba(94, 225, 255, .65), 0 0 32px rgba(155, 255, 183, .35);
            --shadow: 0 10px 30px rgba(0, 0, 0, .4);
        }

        html,
        body {
            margin: 0;
            height: 100%;
            background: #000;
            color: #eaf4ff;
            font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
        }

        /* Static Menu (top-left) */
        #staticMenu {
            position: fixed;
            left: 12px;
            top: 12px;
            z-index: 9999;
            display: flex;
            gap: 10px;
            align-items: center;
            user-select: none;
            padding: 10px 14px;
            border-radius: 12px;
            background: linear-gradient(135deg, rgba(20, 20, 28, .9), rgba(20, 20, 28, .6));
            border: 1px solid rgba(94, 225, 255, .35);
            color: #e8f3ff;
            box-shadow: var(--glow), var(--shadow);
            font-size: 14px;
            animation: menuEnter .6s ease .15s both;
        }

        #staticMenu a {
            color: #5ee1ff;
            font-weight: 800;
            text-decoration: none;
        }

        #closeStaticMenu {
            color: #f55;
            cursor: pointer;
            padding: 2px 6px;
            border-radius: 6px;
            border: 1px solid rgba(255, 255, 255, .15);
            background: rgba(255, 255, 255, .06);
        }

        @keyframes menuEnter {
            from {
                opacity: 0;
                transform: translateY(-8px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Rotating slide in widget (bottom-right) */
        #staticSlideMenu {
            position: fixed;
            bottom: 24px;
            right: 24px;
            z-index: 9999;
            width: 100px;
            height: 100px;
            pointer-events: none;
            opacity: 0;
            transform: translateX(140px) scale(.96);
        }

        #staticSlideMenu a {
            display: block;
            width: 100%;
            height: 100%;
        }

        #staticSlideMenu img {
            width: 100%;
            height: 100%;
            object-fit: contain;
            border: 0;
            border-radius: 0;
            background: transparent;
            box-shadow: none;
            transition: opacity .25s ease;
        }

        .slide-in {
            animation: slideIn 2s ease forwards;
        }

        .slide-out {
            animation: slideOut 2s ease forwards;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateX(140px) scale(.96);
            }

            to {
                opacity: 1;
                transform: translateX(0) scale(1);
            }
        }

        @keyframes slideOut {
            from {
                opacity: 1;
                transform: translateX(0) scale(1);
            }

            to {
                opacity: 0;
                transform: translateX(140px) scale(.96);
            }
        }

        /* Hidden SEO helper */
        .seo-hidden {
            position: absolute;
            width: 1px;
            height: 1px;
            overflow: hidden;
            clip: rect(1px, 1px, 1px, 1px);
            white-space: nowrap;
        }

        @media (max-width: 600px) {
            #staticMenu {
                font-size: 13px;
                padding: 8px 12px;
            }

            #staticSlideMenu {
                width: 88px;
                height: 88px;
            }
        }
    </style>
</head>

<script src="./UnityLoader.js"></script>
<script src="./UnityProgress.js"></script>
<script src="./p-p.js"></script>
<script>
    var gameInstance = UnityLoader.instantiate("gameContainer", "./p-p.json", {
        onProgress: UnityProgress,
        Module: {
            onRuntimeInitialized: function () {
                UnityProgress(gameInstance, "complete")
            }
        }
    });
</script>

<body>
    <!-- Static Menu (top-left) -->
    <div id="staticMenu" role="region" aria-label="StaticQuasar menu">
        <a href="https://sites.google.com/view/staticquasar931/gm3z" target="_blank" rel="noopener">More Unblocked Games by Static</a>
        <span id="closeStaticMenu" title="Hide temporarily">âœ•</span>
    </div>

    <!-- Rotating quick link widget (bottom-right). Order: Google Form -> Discord -> Instagram -->
    <div id="staticSlideMenu" aria-live="polite">
        <a id="staticSlideLink" href="https://sites.google.com/view/staticquasar931/google-form" target="_blank" rel="noopener" aria-label="Open Google Form">
            <img id="staticSlideImg" src="https://cdn.jsdelivr.net/gh/StaticQuasar931/Images@main/GoogleForm.png" alt="StaticQuasar931 Google Form for feedback and requests">
        </a>
    </div>

    <!-- Game container (no GNHUST watermark, fullscreen) -->
    <div class="webgl-content">
        <div id="gameContainer" style="width: 100%; height: 100%; margin: auto"></div>
    </div>

    <!-- Hidden SEO block for Poppy Playtime -->
    <div class="seo-hidden" aria-hidden="true">
        <h1>Poppy Playtime Unblocked - StaticQuasar931</h1>
        <p>
            Poppy Playtime Unblocked is a horror puzzle game where you explore an abandoned toy factory,
            solve brain twisting challenges, and avoid terrifying living toys like Huggy Wuggy.
            This version is tuned for school friendly unblocked play on StaticQuasar931, with fullscreen support
            and smooth performance on Chromebook and classroom devices. Enjoy creepy atmosphere, classic
            factory exploration, and stealth based gameplay without extra clutter or watermarks.
        </p>
    </div>

    <script>
        // Leave warning
        window.onbeforeunload = () => "Are you sure you want to leave? Your game session may be interrupted.";

        // Static Menu show/hide with 3 minute return
        (function () {
            const menu = document.getElementById("staticMenu");
            const btn = document.getElementById("closeStaticMenu");
            const KEY = "sq931_staticMenu_hidden_until";

            const show = () => {
                if (menu) menu.style.display = "flex";
            };

            const hideFor3m = () => {
                if (!menu) return;
                menu.style.display = "none";
                const until = Date.now() + 180000;
                localStorage.setItem(KEY, String(until));
                setTimeout(show, 180000);
            };

            const until = parseInt(localStorage.getItem(KEY) || "0", 10);
            if (until && Date.now() < until) {
                if (menu) menu.style.display = "none";
                setTimeout(show, until - Date.now());
            } else {
                show();
            }

            if (btn) btn.onclick = hideFor3m;
        })();

        // Rotator: Google Form -> Discord -> Instagram
        (function () {
            const wrap = document.getElementById("staticSlideMenu");
            const a = document.getElementById("staticSlideLink");
            const img = document.getElementById("staticSlideImg");

            const FORM = {
                src: "https://cdn.jsdelivr.net/gh/StaticQuasar931/Images@main/GoogleForm.png",
                alt: "StaticQuasar931 Google Form for feedback and requests",
                link: "https://sites.google.com/view/staticquasar931/google-form"
            };
            const DISCORD = {
                src: "https://cdn.jsdelivr.net/gh/StaticQuasar931/Images@main/Join_Our_DC_StaticQuassar931_lcplrf.png",
                alt: "Join the StaticQuasar931 Discord",
                link: "https://discord.gg/DP2hM7RRhR"
            };
            const INSTA = {
                src: "https://cdn.jsdelivr.net/gh/StaticQuasar931/Images@main/Follow-us--IG",
                alt: "StaticQuasar931 Instagram",
                link: "https://www.instagram.com/freeschoolgamepage/"
            };
            const ROTATION = [FORM, DISCORD, INSTA];

            // Preload images
            ROTATION.forEach(o => {
                const p = new Image();
                p.src = o.src;
            });

            const T_IN = 2000, T_SHOW = 5000, T_OUT = 2000, T_HIDDEN = 20000;
            let idx = 0;

            function apply(state) {
                a.href = state.link;
                img.alt = state.alt;
                img.style.opacity = "0";
                setTimeout(() => { img.src = state.src; }, 80);
                img.onload = () => { img.style.opacity = "1"; };
            }

            function delay(ms) {
                return new Promise(r => setTimeout(r, ms));
            }

            (async function cycle() {
                for (; ;) {
                    apply(ROTATION[idx]);
                    wrap.style.pointerEvents = "auto";
                    wrap.classList.remove("slide-out");
                    wrap.classList.add("slide-in");
                    await delay(T_IN + T_SHOW);
                    wrap.classList.remove("slide-in");
                    wrap.classList.add("slide-out");
                    await delay(T_OUT);
                    wrap.style.pointerEvents = "none";
                    await delay(T_HIDDEN);
                    idx = (idx + 1) % ROTATION.length;
                }
            })();
        })();

        // Keyboard secret toggle: y + u + i to toggle all Visual SEO
        (function () {
            const idsToToggle = ["staticMenu", "staticSlideMenu"];
            let seq = [];
            const target = ["y", "u", "i"];

            function toggle() {
                idsToToggle.forEach(id => {
                    const el = document.getElementById(id);
                    if (!el) return;
                    const isHidden = (el.style.display === "none" || getComputedStyle(el).display === "none");
                    el.style.display = isHidden ? (id === "staticMenu" ? "flex" : "block") : "none";
                });
            }

            window.addEventListener("keydown", (e) => {
                seq.push(e.key.toLowerCase());
                if (seq.length > 3) seq.shift();
                if (seq.join("") === target.join("")) toggle();
            });
        })();
    </script>
</body>

</html>
